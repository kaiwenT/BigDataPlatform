<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>课程中心--学生</title>
    <link rel="stylesheet" href="../css/head.css">
    <link rel="stylesheet" href="../css/student-course.css">
    <link rel="stylesheet" href="http://mc.stu.126.net/pub/s/web/pt_home.css?16e6e3fc07c8ec874178a9562aca6ce3">
</head>
<body>
<div id="g-container">
    <div class="web-nav-container">
        <div class="m-navTop-func">
            <div class="u-navLogin-container">
                <div class="u-navLogin-logo">
                    <a href="#">
                        <img src="../img/logo2.png" height="40px" style="margin-top: -6px;">
                    </a>
                    <a href="#">
                        <img src="../img/logo.png" width="190px" height="28px">
                    </a>
                </div>
                <div class="u-navLogin-loginBox">
                    <div class="u-navLogin-loginBox-i">
                        <div class="m-navlinks">
                            <div class="login">
                                <div class="info">
                                    <div class="face">
                                        <a href="#" targe="_self">
                                            <img id="my-img" src="../img/my-img.png" width="30" height="30" alt="用户名">
                                        </a>
                                    </div>
                                    <div class="j-nav-set sets" style="display: none">
                                        <div class="e-hover-arrow"></div>
                                        <div class="e-hover-arrow-border"></div>
                                        <ul class="set">
                                            <li>
                                                <a class="a" href="#" target="_blank">设置</a>
                                            </li>
                                            <li class="exit">
                                                <a href="#">退出</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="arrow"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="u-navLogin-myCourse">
                    <div class="u-navLogin-myCourse u-navLogin-center-container">
                        <a href="student-home.html" target="_top">
                            <span class="nav">个人中心</span>
                        </a>
                    </div>
                </div>
                <div class="u-navLogin-searchFunc">
                    <div class="j-search-box u-search-container">
                        <div class="j-input u-search-input">
                            <div class="ipt">
                                <div class="area">
                                    <div class="u-baseinputui">
                                        <input type="text" name="search" class="j-textarea inputtxt" autocomplete="off"
                                               placeholder="请输入课程名" style="height: 19px;">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="u-search-icon">
                            <span class="u-icon-search2 j-searchBtn" id="auto-id-1506681742568">
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="g-body1">
        <div class="m-cbg"></div>
        <div class="g-sd1">
            <div class="m-learnleft">
                <div class="top f-pr">
                    <img class="course-image" id=""
                         src="../img/course-img.jpg"
                         width="230" height="130" alt="数据结构">
                </div>
                <ul id="j-courseTabList" class="tab u-tabul">
                    <li class="u-greentab j-tabitem f-f0 first u-curtab" data-name="课程介绍" data-type="1"
                        data-id="1002347043" id="auto-id-1507098444830">
                        <a class="f-thide f-fc3" href="course-introduce">课程介绍</a>
                    </li>
                    <li class="u-greentab j-tabitem f-f0 " data-name="教学大纲" data-type="2" data-id="1002347044"
                        id="auto-id-1507098444831">
                        <a class="f-thide f-fc3" href="student-course-outline">教学大纲</a>
                    </li>
                    <li class="u-greentab j-tabitem f-f0 " data-name="评分标准" data-type="2" data-id="1002347044">
                        <a class="f-thide f-fc3" href="student-mark-rule">评分标准</a>
                    </li>
                    <li class="u-greentab j-tabitem f-f0 " data-name="课件" data-type="3" data-id="1002347045"
                        id="auto-id-1507098444832">
                        <a class="f-thide f-fc3" href="student-courseware">课件</a>
                    </li>
                    <li class="u-greentab j-tabitem f-f0 last" data-name="实验" data-type="7" data-id="1002347048"
                        id="auto-id-1507098444835">
                        <a class="f-thide f-fc3" href="student-experiment">实验</a>
                    </li>
                 	<li class="u-greentab j-tabitem f-f0 " data-name="测验与作业" data-type="4" data-id="1002347046"
                        id="auto-id-1507098444833">
                        <a class="f-thide f-fc3" href="#">测验与作业</a>
                    </li>
                    <li class="u-greentab j-tabitem f-f0 " data-name="考试" data-type="6" data-id="1002347047"
                        id="auto-id-1507098444834">
                        <a class="f-thide f-fc3" href="#">考试</a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="g-mn1">
            <div class="g-mn1c m-learnbox">
                <div class="left-mn">

                </div>
            </div>

        </div>
    </div>
</div>
</body>
<script type="application/javascript" src="../js/jquery.js"></script>
<script type="application/javascript" src="../js/bootstrap.js"></script>
<script type="text/javascript" src="../js/course.js"></script>
<script type="text/javascript" src="../js/tools.js"></script>
<script type="application/javascript">
	bootstrapButton = $.fn.button.noConflict();
	$.fn.bootstrapBtn = bootstrapButton;
	//显示课程图片
	showCoursePhoto();
  
	function baseAjax(item) {
		if (item == "index") {
			exit();
		} else if(item == "error"){
			window.parent.location.href = "/error.html";
		} else {
			$.ajax({
				type : "get",
				url : item + ".html",
				async : false,
				dataType : "html",
				data : '',
				success : function(data) {
					if(data=="error"){
						window.parent.location.href = "/index.html";
					}else{
					$(".m-learnbox").empty().html(data);
					}
				},
				error : function() {
					alert("ajax加载失败！");
				}
			});
			title = document.title;
			console.log(title + "--------------------------")
			history.pushState({
				title : title
			}, title, "?href=" + item);
		}

	}

	var eleMenus = $(".u-greentab a").click(function(e) {
		var e = e || window.event;
		e.preventDefault();
		if (history.pushState) {

			$(".u-greentab").removeClass("u-curtab");
			$(this).parent().addClass("u-curtab").siblings().removeClass("u-curtab"); //点击时左侧导航项换色
			
			$.ajax({
				type : "get",
				url : this.href + ".html",
				async : false,
				dataType : "html",
				data : '',
				success : function(data) {
					if(data=="error"){
						window.parent.location.href = "/index.html";
					}else{
						$(".m-learnbox").empty().html(data);
					}
				},
				error : function() {
					alert("ajax加载失败！");
				}

			});
			var title = $(this).text();
			/* document.title=title;*/
			if (e && /\d/.test(e.button)) {
				history.pushState({
					title : title
				}, title, "?href=" + this.href.slice(this.href.lastIndexOf('/') + 1));
			}

		}

		return false;
	})

	var pageTrigger = function(target) {

		var query = location.href.split('?href=')[1], eleTarget = target || null;

		if (typeof query != "undefined") {
			query = query.split('#')[0];
		}

		if (typeof query == "undefined") {
			if (eleTarget = eleMenus.get(1)) {
				history.replaceState(null, document.title, "?href=" + eleTarget.href);
				pageTrigger(eleTarget); //直接触发click事件

			}
		} else {
			eleMenus.each(function() {
				//为popstate 事件准备的····
				if (eleTarget === null && this.href === query) {
					eleTarget = this;//popsate到之前的页面，必须要触发相应的点击事件，所以确定是那个a元素
				}
			});

			if (!eleTarget) { //如果当前元素仍不存在,自己调用,则可能是其他的button跳转
				
				$.ajax({
					type : "get",
					url : query + ".html",
					async : false,
					dataType : "html",
					data : '',
					success : function(data) {
						if(data=="error"){
							window.parent.location.href = "/index.html";
						}else{
						$(".m-learnbox").empty().html(data);
						}
					},
					error : function() {
						alert("ajax加载失败！");
					}
				});

				if (event && /\d/.test(event.button)) {
					history.pushState({
						title : title
					}, title, "?href=" + query);
				}

			} else {
				console.log(eleTarget);
				$(eleTarget).trigger("click");
			}
		}
	}

	if (history.pushState) { //如果浏览器支持history的pushstate属性,在前进后退的时候直接触发pageTrigger事件
		window.addEventListener("popstate", function() {
			pageTrigger();

		});
		// 默认载入
		pageTrigger();
	}
    $(".info").hover(function(){
        $(".sets").css("display","block");
    },function(){
        $(".sets").css("display","none");
    })
    $(".u-ui-img").hover(function(){
        $(".e-hover-code").css("display","block");
    },function(){
        $(".e-hover-code").css("display","none");
    })
</script>
</html>